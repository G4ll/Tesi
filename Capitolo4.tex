\chapter{Il Prodotto}
Il capitolo seguente è sicuramente il più tecnico, ma non ci si poteva aspettare diversamente. Fino ad ora non abbiamo fatto altro che introdurre il linguaggio dei funtori coomologici e tradurvici quanto già sapevamo: è giunto il momento di mettere in azione questo misterioso macchinario e vedere cosa ne possiamo ricavare.\\

Il grande vantaggio di una teoria coomologica è che possiamo definirci sopra un prodotto. Uno dei fondamentali problemi, è che dovremo effettivamente definirlo. Ci lanceremo dunque in un tentativo di presentare con cura la definizione, in modo che si riesca a credere ai risultati tecnici di buon comportamento del prodotto che seguiranno. Tutti i dettagli si trovano qua. \todo[ref] \\

Seguirà la dimostrazione del teorema di dualità di Tate-Nakayama, risultato che, tramite il prodotto appena definito (dunque in maniera piuttosto oscura), mette in comunicazione gruppi di coomologia con coefficienti in moduli diversi. Questo ci permetterà di reinterpretare la coomologia di un campo spostando i coefficienti su moduli più semplici, $ \Z $ per esempio, e ricavare qualche informazione sul gruppo di Galois in questione. \\

L'ultimo paragrafo sarà il momento in cui tutti i nostri sforzi saranno ripagati: otterremo una descrizione del gruppo di Galois della massima estensione abeliana di un campo locale in termini della struttura del campo stesso, l'applicazione di reciprocità locale.

\section{Tazza Prodotto}
Costruiremo ora un'applicazione bilineare tra i gruppi di coomologia, donando al nostro strumento un prodotto e, dunque, una struttura di algebra. La costruzione del \leftquote tazza-prodotto", così come la presentazione delle relative proprietà, è fondamentalmente una boriosa, lunghissima, verifica: preannuncio solo che dovremo riesumare la descrizione in cocatene. Come ogni buon libro di algebra, presenteremo dettagliatamente la costruzione del prodotto e la lista delle proprietà che useremo in seguito, lasciando decidere al lettore se fidarsi ciecamente di quanto presentato oppure dedicare un paio di pomeriggi alla verifica diretta. \\

Poniamoci nella dovuta generalità. Siano $ A, \, B $ due $ G $-moduli e $ K_{\mathtt{om}}(A) $ e $ K_{\mathtt{om}}(B) $ i corrispondenti complessi di cocatene omogenee; che ricordiamo si ottengono omogeneizzando le usuali cocatene $ K(A) $ e $ K(B) $: presa $ f \colon G^i \to A $, definiamo $ F\colon G^{i+1} \to A  $ in modo che
\[ F(g_0, \, g_1, \, \dots, \, g_i) = g_0 f(g_0^{-1}g_1, \, g_1^{-1}g_2, \, \dots, \, g_{i-1}^{-1}g_i). \]
Questa presentazione è molto più comoda perché l'applicazione bilineare
\begin{align*}
	\cup \colon K^p_{\mathtt{om}}(A) \times K^q_{\mathtt{om}}(B) &\to K_{\mathtt{om}}^{p+q}(A \otimes B)\\
	(a, \, b) & \mapsto a(g_0,\, \dots, \, g_p) \otimes b(g_p,\, \dots, \, g_{p+q})
\end{align*}
si comporta bene con i differenziali
\[ d(a \cup b) = (da) \cup b + (-1)^p a \cup (db), \]
permettendoci di passare in coomologia.

\begin{definition}[Tazza prodotto]
	Chiamiamo tazza-prodotto l'applicazione $ \Z $-bilineare indotta da dal prodotto appena definito
	\[ \cup \colon \HH^p(G, \, A) \times \HH^q(G, \, B) \to \HH^{p+q}(G, \, A \otimes B)  \]
\end{definition}

Il prodotto è ovviamente compatibile con le successioni esatte lunghe:

\begin{proposition}\label{cup1} \todo[rendere utilizzabile!]
	Se entrambe le successioni
	\[ 0 \to A \to A' \to A'' \to 0, \qquad 0 \to A \otimes B \to A'\otimes B \to A''\otimes B \to 0 \]
	sono esatte, allora il tazza-prodotto, fissato $ \beta \in \HH^q(G, \, B) $, in induce un morfismo di complessi
	\[\begin{tikzcd}[column sep = small]
	\dots \rar
	& \HH^{p}(G, \, A') \dar["\cup\beta"] \rar 
	& \HH^{p}(G, \, A'') \rar["\delta"] \dar["\cup\beta"]
	& \HH^{p+1}(G, \, A) \rar \dar["\cup\beta"]
	&\dots  \\
	\dots \rar
	& \HH^{p+q}(G, \, A'\otimes B) \rar
	& \HH^{p+q}(G, \, A''\otimes B) \rar["\delta"]
	& \HH^{p+q+1}(G, \, A\otimes B) \rar &\dots \, , \end{tikzcd}\]
	equivalentemente $ (\delta\alpha'') \cup \beta = \delta (\alpha'' \cup \beta) $.
\end{proposition}

Presa una qualunque applicazione $ \Z[G] $-bilineare $ \varphi\colon A \times B \to C $, componendo all'omomorfismo $ \varphi\colon A \otimes B \to C  $ con il tazza-prodotto otteniamo qualunque sorta di prodotto in coomologia. Dalla proposizione di compatibilità precedente possiamo dedurne una versione appena più generale, che ci tornerà utile in futuro.

\begin{lemma}\label{cup2}
	Date due successioni esatte
	\[ 0 \to A' \to A \to A'' \to 0, \qquad 0 \to B' \to B \to B'' \to 0 \]
	e un'applicazione bilineare $  \varphi\colon A \times B \to C $ nulla su $ A'\times B' $. Troviamo allora due accoppiamenti
	\[ \varphi'\colon A' \times B'' \to C, \qquad \varphi''\colon A'' \times B' \to C, \]
	che inducono prodotti in omologia
	\begin{align*}
		\HH^{p}(G, \, A'') \times \HH^{q}(G, \, B') &\to \HH^{p+q}(G, \, C)\\
		\HH^{p+1}(G, \, A') \times \HH^{q-1}(G, \, B'') &\to \HH^{p+q}(G, \, C)
	\end{align*}
	compatibili con le frecce di bordo delle successioni esatte lunghe associate:  $ \delta \alpha \cup \beta + (-1)^p \, a \cup \delta \beta $.
\end{lemma}

\section{Dualità di Tate-Nakayama}
Ci addentreremo ora nell'argomento più tecnico di tutta la tesi: il teorema di dualità di Tate-Nakayama sarà preceduto da alcuni risultati di natura puramente algebrica e carattere incredibilmente generale, per questo difficili da digerire. L'obbiettivo dei risultati seguenti è di trasformare i criteri di banalità, introdotti qualche pagine indietro, in strumenti per costruire isomorfismi tra gruppi di coomologia con coefficienti diversi. Per fare questo assumeremo delle ipotesi ad hoc, della cui ragionevolezza ci occuperemo solo in futuro. 

\begin{proposition}
	Sia $ f \colon B \to C $ una mappa tra $ G $ moduli. Supponiamo di conoscere, per ogni primo $ p $, un indice $ n_p $ per cui
	\begin{align*}
		\Hh^{n_p}(G_p,\, B) &\twoheadrightarrow \Hh^{n_p}(G_p,\, C) & \text{ sia suriettivo,} \\
		\Hh^{n_p+1}(G_p,\, B) &\to \Hh^{n_p+1}(G_p,\, C) & \text{ sia un isomorfismo,} \\
		\Hh^{n_p+2}(G_p,\, B) &\hookrightarrow \Hh^{n_p+2}(G_p,\, C) & \text{ sia iniettivo.}
	\end{align*}
	Possiamo allora concludere che, per ogni modulo $ D $ piatto e ogni sottogruppo $ H < G $, la mappa indotta dal tensore
	\[ \Hh^n(H, \, B \otimes D) \to \Hh^n(H, \, C \otimes D) \qquad\text{ è un isomorfismo, per ogni } n. \]
\end{proposition}

La tesi è assolutamente sopraffacente. È utile pensare al risultato prima nella forma più semplice, con $ H=G $ e $ D = \Z $, seguito da due piccole aggiunte che, essendo gratuite, abbiamo deciso di includere per completezza: che sia valida per ogni sottogruppo non è sorprendente, data la definizione di \leftquote coomologicamente banale"; che si possano estendere i coefficienti, segue invece dal fatto che i moduli piatti preservano gli indotti. 

\begin{proof}
	Le ipotesi sono scelte in modo da funzionare magnificamente una volta assunto $ f $ iniettiva: in questo caso otteniamo una successione esatte corta
	\[ \begin{tikzcd}[column sep = small]
	0 \rar
	& B \rar["f"]
	& C \rar
	& Q \rar
	& 0 \end{tikzcd} \]
	la cui successione esatta lunga associata, per ogni primo $ p $, restituisce
	\[ \Hh^{n_p}(G_p, \, Q) = \Hh^{n_p+1}(G_p, \, Q), \]
	da cui, per il criterio di banalità $ (\ref{ban2}) $, deduciamo che $ Q $ è coomologicamente banale. Abbiamo già osservato che $ Q \otimes D $ rimane tale (\ref{tensor magic}), da cui la tesi. \\
	
	Per concludere è pertanto sufficiente mostrare che è ci si può ricondurre al caso precedente. Per fare questo consideriamo la classica immersione di $ B $ nel suo modulo indotto $ j \colon B \to \Ind_1^G(B) $ e dunque la mappa iniettiva
	\[ (f, j)\colon B \to C \oplus \Ind_1^G(B), \]
	la tesi segue dunque dalla banalità dell'indotto, che trasforma la successione esatta corta
	\[ \begin{tikzcd}[column sep = small]
	0 \rar
	& C \rar["f"]
	& C \oplus \Ind_1^G(B) \rar
	& \Ind_1^G(B) \rar
	& 0 \end{tikzcd} \]
	in degli isomorfismi
	\[ \Hh^n(H, \, C \otimes D ) = \Hh^n \left(H, \, \left(C \oplus \Ind_1^G(B)\right) \otimes D \right). \]
\end{proof}

Ripreso il fiato, concessoci il tempo di capire quanto attentamente sono state scelte le ipotesi, procediamo verso una generalizzazione ancora più spinta. Vorremmo un risultato analogo per mappe indotte dal tazza-prodotto, che come unica differenza producono un cambio di dimensione in arrivo.

\begin{proposition}
	Sia $ \varphi \colon A \times B \to C $ una mappa bilineare tra $ G $ moduli; fissiamo un elemento $ a \in \HH^q(G, \, A) $. Supponiamo di conoscere, per ogni primo $ p $, un indice $ n_p $ per cui l'omomorfismo indotto dal tazza prodotto per $ \Res a $
	\begin{align*}
	\Hh^{n_p}(G_p,\, B) &\twoheadrightarrow \Hh^{n_p+q}(G_p,\, C) & \text{ sia suriettivo,} \\
	\Hh^{n_p+1}(G_p,\, B) &\to \Hh^{n_p+q+1}(G_p,\, C) & \text{ sia un isomorfismo,} \\
	\Hh^{n_p+2}(G_p,\, B) &\hookrightarrow \Hh^{n_p+q+2}(G_p,\, C) & \text{ sia iniettivo.}
	\end{align*}
	Possiamo allora concludere che, per ogni modulo $ D $ piatto e ogni sottogruppo $ H < G $, la mappa indotta dal tazza-prodotto per $ \Res a $
	\[ \Hh^n(H, \, B \otimes D) \to \Hh^{n+q}(H, \,  C\otimes D) \qquad\text{ è un isomorfismo, per ogni } n. \]
\end{proposition}

\begin{proof}
	Giocando a trovare le differenze con la proposizione precedente, si scopre che queste coincidono quando $ a \in \HH^0(G, \, A) $, ovvero assumendo $ q = 0. $ Per concludere è pertanto sufficiente mostrare che ci si può ricondurre al caso precedente. Il modo naturale di farlo è passare ai moduli con coomologia traslata: cominciamo dal caso $ q = 1 $. Sostituendo $ A, \, C $ con $ A_1 ,\,  C_1 $, otteniamo un'applicazione bilineare $ \varphi_1\colon A_1 \times B \to C_1 $ abbastanza naturalmente
	\[ \begin{tikzcd}[column sep = small]
	0 \rar
	& A \rar \dar["\cdot_\varphi\beta"]
	& \Ind_1^G(A) \rar \dar["\cdot_\varphi\beta"]
	& A_1 \rar \dar["\cdot_{\varphi_1}\beta", dashed]
	& 0\\
	0 \rar & C \rar & \Ind_1^G(C) \rar & C_1 \rar & 0.  \end{tikzcd} \]
	Prendialmo l'elemento $ a_1 \in \Hh^0(G, \, A_1) $ corrispondente ad $ a $: l'unico per cui $ \delta(a_1) = a $. La tesi è vera per il prodotto indotto da $ \varphi_1 $ e l'elemento $ a_1 $: abbiamo dei meravigliosi isomorfismi
	\[ \begin{tikzcd}[column sep = small]
	\Hh^n(H, \, B \otimes D) \rar["a_1\cup"] & \Hh^{n}(H, \,  C_1 \otimes D)
	\end{tikzcd}  \]
	a cui possiamo aggiungere il classico isomorfismo
	\[ \begin{tikzcd}[column sep = small]
	\Hh^n(H, \, B \otimes D) \rar["a_1\cup"] & \Hh^{n}(H, \,  C_1 \otimes D) \rar["\delta"] & \Hh^{n+1}(G, \, C \otimes D).
	\end{tikzcd}  \]
	Deduciamo la tesi grazie al risultato di compatibilità del tazza-prodotto (\ref{cup1}): l'isomorfsimo trovato è infatti $$  \beta \mapsto \delta(a_1 \cup x) = \delta(a_1) \cup x = a \cup x.  $$ La dimostrazione è analoga per ogni $ q $.
\end{proof}

Raggiunto il desiderato livello di astrazione, possiamo occuparci di riformulare le particolari ipotesi in una forma più accessibile, se non proprio comprensibile.

\begin{theorem}[Dualità di Tate-Nakayama]
	Sia $ A $ un $ G $-modulo. Fissiamo un elemento $ a \in \HH^2(G, \, A) $. Supponiamo di sapere , per ogni numero primo $ p $, che
	\begin{enumerate}[label = \roman*.]
		\item $ \HH^1(G_p, \, A) = 0 $;
		\item il gruppo $ \HH^2(G_p, \, A) $ ha la stessa cardinalità di $ G_p $, diciamo $ m_p $, ed è generato da $ \Res a $.
	\end{enumerate}
	Possiamo allora concludere che l'omomorfismo indotto dal tazza-prodotto con $ \Res a $ induce, per ogni sottogruppo $ H < G $, un isomorfismo
	\[ \Hh^n(H, \, \Z) \to \Hh^{n+2}(H, \,  A) \qquad \text{ per ogni } n.\]
\end{theorem}

\begin{proof}
	Applichiamo la proposizione precedente con $ B = \Z $, $ C = A $ e $ D = \Z $. Le ipotesi sono verificate per $ n_p = -1 $:
	\begin{align*}
		\Hh^{-1}(G_p,\, \Z) &\twoheadrightarrow \Hh^{1}(G_p,\, A) = 0 & \text{per l'ipotesi } i, \\
		\Z/m_p\Z=\Hh^{0}(G_p,\, \Z) &\to \Hh^{2}(G_p,\, A) = \Z/m_p\Z & \text{per l'ipotesi } ii,\\
		0 = \Hh^{1}(G_p,\, \Z) &\hookrightarrow \Hh^{3}(G_p,\, A) & \text{per l'ipotesi } i.
	\end{align*}
\end{proof}

È naturale chiedersi a questo punto se non abbiamo esagerato: erano davvero necessarie quelle due proposizioni dal carattere ridicolmente generale e vagamente incomprensibile che abbiamo dimostrato? Se pensate che avrebbe prodotto un'idea intuitiva dietro il risultato di dualità, siete liberi di provarci.

\section{Reciprocità Locale}


% Costruzione della Reciprocità e... poco altro?
Continuando nella nostra discesa dall'astrazione verso la Teoria del Corpo di Classe, applichiamo il teorema di dualità di Tate-Nakayama al caso dei campi locali: ne otterremo una descrizione dei gruppi di Galois in funzione della struttura del campo stesso; siano $ K $ un campo locale e $ L / K  $ un'estensione finita di Galois di grado $ n = [L\,\colon K] $. Poniamo $ A = L^\times $ e $ G $ il gruppo di Galois dell'estensione. Per Hilbert 90 l'ipotesi $ i $ del teorema di Tate-Nakayama è soddisfatta 
\[ i. \; \HH^1(G_p,\, L^\times) = 0 \]
e, grazie al nostro studio del gruppo di Brauer, anche l'ipotesi $ ii $: per uno dei lemmi comparsi nel calcolo del Brauer (in particolare \ref{br2}) sappiamo che $ \HH^2(G, \, L^\times) $ coincide con il sottogruppo di $ n $-torsione di $ \Br K = \Q/\Z $, possiamo pertanto scegliere l'unico elemento $ u \in \HH^2(G, \, L^\times) $ per cui $ \inv_K(u) = \frac{1}{n} $; per il lemma di compatibilità tra invarianti e restrizione (\ref{inv}), si ha che
\[ ii. \; \HH^2(G_p, \, L^\times) = T_p \Br(L/K) \;\text{ è generato da } \Res u. \]
Il teorema di dualità produce allora un isomorfismo
\[ \theta\colon \Hh^{-2}(G, \, \Z) \to \Hh^{0}(G, \,  L^\times), \]
che coincide con il tazza-prodotto per $ u. $

\begin{theorem}[Reciprocità Locale]
	Per ogni estensione abeliana finita $ L/K $, abbiamo un isomorfismo
	\[ \omega_L\colon \frac{K^\times}{NL^\times} \to \Gal{L/K}, \]
	dove $ N $ è, come al solito, la norma.
\end{theorem}

\begin{proof}
	Consideriamo l'isomorfismo $ \theta^{-1} $ definito sopra e calcoliamo i due gruppi di coomologia coinvolti. Per definizione
	\[ \Hh^{0}(G, \,  L^\times) = K^\times / NL^\times. \]
	Il primo gruppo di omologia $ \Hh^{-2}(G, \, \Z) = \HH_1(G, \, \Z) $ è l'abelianizzato di $ G $: la successione esatta corta
	\[ 0 \to I_G \to \Z[G] \to \Z \to 0 \]
	produce in omologia, poiché $ \Z[G] $ è indotto, la successione esatta
	\[ 0 \to \HH_1(G,\, \Z) \to I_G/I_G^2 \to \Z \to \Z \to 0. \]
	Da cui deduciamo che $ \HH_1(G,\, \Z) = I_G/I_G^2 = G^\mathtt{ab} $.
\end{proof}


Questa mappa fornisce un primo importante collegamento tra il gruppo di Galois di un'estensione abeliana e gli elementi del campo stesso. Questo conclude in un qualche senso lo studio delle estensioni abeliane di un campo locale, per esempio possiamo annunciare trionfanti di essere riusciti a calcolare il gruppo di Galois della massima estensione abeliana, ovvero l'abelianizzato del gruppo di Galois assoluto $ \Gamma_K $: prendendo il limite inverso di $ \omega_L $ sulle estensioni abeliane finite, otteniamo una mappa
\[ \omega\colon K^\times \to \Gamma_K^{\texttt{ab}}, \]
detta \emph{applicazione di reciprocità}, che sul quoziente $ \varprojlim_L K^\times / NL^\times  $ è un isomorfismo:
\[ \Gamma_K^{\texttt{ab}} = \varprojlim_L \frac{K^\times}{NL^\times}. \]
% Mi piacerebbe dire qualcosa qua, ma temo che non mi sia chiarissimo a cosa ci serve dove siamo arrivati e perché.
Tornando con i piedi per terra, soffermiamoci su quella fastidiosa $ N $ al numeratore: come speriamo di calcolare esplicitamente questo gruppo? Come si calcola l'immagine tramite la norma di una data estensione? Studiando più approfonditamente l'applicazione di reciprocità è possibile raffinare il risultato in modo da aggirare questo problema: mostreremo nel capitolo successivo che il limite in questione è in realtà più maneggevole di come siamo riusciti a presentarlo; scopiremo infatti che si tratta del completamento profinito del gruppo moltiplicativo $ \K^\times $:
\[ \varprojlim_L \frac{K^\times}{NL^\times} = \varprojlim_n \frac{K^\times}{{K^\times}^n} = \hat{K}. \]
% assicurarsi della presenza dell'applicazione di reciprocità nella dualità di Tate
